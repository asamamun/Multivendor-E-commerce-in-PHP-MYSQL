<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - MarketPlace</title>
    
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts - Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold text-primary" href="index.html">
                <i class="fas fa-store me-2"></i>MarketPlace
            </a>
            
            <div class="ms-auto">
                <span class="text-muted">Secure Checkout</span>
                <i class="fas fa-lock text-success ms-2"></i>
            </div>
        </div>
    </nav>

    <!-- Checkout Progress -->
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <div class="progress mb-4" style="height: 3px;">
                    <div class="progress-bar" style="width: 75%"></div>
                </div>
                <div class="d-flex justify-content-between">
                    <span class="text-success"><i class="fas fa-check-circle"></i> Cart</span>
                    <span class="text-success"><i class="fas fa-check-circle"></i> Information</span>
                    <span class="text-primary fw-bold"><i class="fas fa-circle"></i> Payment</span>
                    <span class="text-muted"><i class="far fa-circle"></i> Confirmation</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Content -->
    <div class="container my-5">
        <div class="row">
            <!-- Checkout Form -->
            <div class="col-lg-7 mb-4">
                <form>
                    <!-- Shipping Address -->
                    <div class="card mb-4">
                        <div class="card-header bg-white">
                            <h5 class="mb-0">
                                <i class="fas fa-shipping-fast me-2 text-primary"></i>Shipping Address
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="firstName" class="form-label">First Name *</label>
                                    <input type="text" class="form-control" id="firstName" value="John" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="lastName" class="form-label">Last Name *</label>
                                    <input type="text" class="form-control" id="lastName" value="Doe" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email Address *</label>
                                <input type="email" class="form-control" id="email" value="john.doe@email.com" required>
                            </div>
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone Number *</label>
                                <input type="tel" class="form-control" id="phone" value="+1 (555) 123-4567" required>
                            </div>
                            <div class="mb-3">
                                <label for="address" class="form-label">Street Address *</label>
                                <input type="text" class="form-control" id="address" placeholder="123 Main Street" required>
                            </div>
                            <div class="mb-3">
                                <label for="address2" class="form-label">Apartment, suite, etc. (optional)</label>
                                <input type="text" class="form-control" id="address2" placeholder="Apt 4B">
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="city" class="form-label">City *</label>
                                    <input type="text" class="form-control" id="city" placeholder="New York" required>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <label for="state" class="form-label">State *</label>
                                    <select class="form-select" id="state" required>
                                        <option value="">Select State</option>
                                        <option value="NY" selected>New York</option>
                                        <option value="CA">California</option>
                                        <option value="TX">Texas</option>
                                        <option value="FL">Florida</option>
                                    </select>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <label for="zip" class="form-label">ZIP Code *</label>
                                    <input type="text" class="form-control" id="zip" placeholder="10001" required>
                                </div>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="saveAddress">
                                <label class="form-check-label" for="saveAddress">
                                    Save this address for future orders
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Shipping Method -->
                    <div class="card mb-4">
                        <div class="card-header bg-white">
                            <h5 class="mb-0">
                                <i class="fas fa-truck me-2 text-primary"></i>Shipping Method
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="shipping" id="standard" value="0" checked>
                                <label class="form-check-label d-flex justify-content-between w-100" for="standard">
                                    <div>
                                        <strong>Standard Shipping</strong>
                                        <div class="text-muted small">5-7 business days</div>
                                    </div>
                                    <span class="text-success fw-bold">FREE</span>
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="shipping" id="express" value="9.99">
                                <label class="form-check-label d-flex justify-content-between w-100" for="express">
                                    <div>
                                        <strong>Express Shipping</strong>
                                        <div class="text-muted small">2-3 business days</div>
                                    </div>
                                    <span class="fw-bold">$9.99</span>
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="shipping" id="overnight" value="19.99">
                                <label class="form-check-label d-flex justify-content-between w-100" for="overnight">
                                    <div>
                                        <strong>Overnight Shipping</strong>
                                        <div class="text-muted small">Next business day</div>
                                    </div>
                                    <span class="fw-bold">$19.99</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Method -->
                    <div class="card mb-4">
                        <div class="card-header bg-white">
                            <h5 class="mb-0">
                                <i class="fas fa-credit-card me-2 text-primary"></i>Payment Method
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="payment" id="creditCard" checked>
                                <label class="form-check-label" for="creditCard">
                                    <i class="fas fa-credit-card me-2"></i>Credit/Debit Card
                                </label>
                            </div>
                            
                            <div id="cardDetails" class="ms-4">
                                <div class="mb-3">
                                    <label for="cardNumber" class="form-label">Card Number *</label>
                                    <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456" required>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="expiryDate" class="form-label">Expiry Date *</label>
                                        <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="cvv" class="form-label">CVV *</label>
                                        <input type="text" class="form-control" id="cvv" placeholder="123" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="cardName" class="form-label">Name on Card *</label>
                                    <input type="text" class="form-control" id="cardName" placeholder="John Doe" required>
                                </div>
                            </div>

                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="payment" id="paypal">
                                <label class="form-check-label" for="paypal">
                                    <i class="fab fa-paypal me-2 text-primary"></i>PayPal
                                </label>
                            </div>

                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="payment" id="applePay">
                                <label class="form-check-label" for="applePay">
                                    <i class="fab fa-apple-pay me-2"></i>Apple Pay
                                </label>
                            </div>

                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="payment" id="googlePay">
                                <label class="form-check-label" for="googlePay">
                                    <i class="fab fa-google-pay me-2"></i>Google Pay
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Billing Address -->
                    <div class="card mb-4">
                        <div class="card-header bg-white">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="sameAsShipping" checked>
                                <label class="form-check-label fw-semibold" for="sameAsShipping">
                                    <i class="fas fa-home me-2 text-primary"></i>Billing address same as shipping
                                </label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Order Summary -->
            <div class="col-lg-5">
                <div class="card sticky-top" style="top: 20px;">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">
                            <i class="fas fa-receipt me-2 text-primary"></i>Order Summary
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Order Items -->
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-3 pb-3 border-bottom">
                                <img src="https://via.placeholder.com/60x60/f8f9fa/6c757d?text=HP" 
                                     class="rounded me-3" width="60" height="60" alt="Product">
                                <div class="flex-fill">
                                    <h6 class="mb-1">Premium Wireless Headphones</h6>
                                    <small class="text-muted">Qty: 2 × $89.99</small>
                                </div>
                                <span class="fw-bold">$179.98</span>
                            </div>
                            
                            <div class="d-flex align-items-center mb-3 pb-3 border-bottom">
                                <img src="https://via.placeholder.com/60x60/f8f9fa/6c757d?text=SW" 
                                     class="rounded me-3" width="60" height="60" alt="Product">
                                <div class="flex-fill">
                                    <h6 class="mb-1">Smart Fitness Watch</h6>
                                    <small class="text-muted">Qty: 1 × $199.99</small>
                                </div>
                                <span class="fw-bold">$199.99</span>
                            </div>
                            
                            <div class="d-flex align-items-center mb-3 pb-3 border-bottom">
                                <img src="https://via.placeholder.com/60x60/f8f9fa/6c757d?text=BP" 
                                     class="rounded me-3" width="60" height="60" alt="Product">
                                <div class="flex-fill">
                                    <h6 class="mb-1">Professional Laptop Backpack</h6>
                                    <small class="text-muted">Qty: 1 × $49.99</small>
                                </div>
                                <span class="fw-bold">$49.99</span>
                            </div>
                        </div>

                        <!-- Promo Code -->
                        <div class="mb-4">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Promo code">
                                <button class="btn btn-outline-primary" type="button">Apply</button>
                            </div>
                        </div>

                        <!-- Order Totals -->
                        <div class="border-top pt-3">
                            <div class="d-flex justify-content-between mb-2">
                                <span>Subtotal:</span>
                                <span>$429.96</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Shipping:</span>
                                <span class="text-success" id="shippingCost">Free</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Tax:</span>
                                <span>$34.40</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2 text-success">
                                <span>Discount:</span>
                                <span>-$0.00</span>
                            </div>
                            <hr>
                            <div class="d-flex justify-content-between mb-4">
                                <strong>Total:</strong>
                                <strong class="text-primary fs-5" id="finalTotal">$464.36</strong>
                            </div>
                        </div>

                        <!-- Place Order Button -->
                        <div class="d-grid">
                            <button type="button" class="btn btn-success btn-lg" onclick="placeOrder()">
                                <i class="fas fa-lock me-2"></i>Place Order
                            </button>
                        </div>

                        <!-- Security Info -->
                        <div class="mt-3 text-center">
                            <small class="text-muted">
                                <i class="fas fa-shield-alt me-1"></i>
                                Your payment information is secure and encrypted
                            </small>
                        </div>

                        <!-- Return Policy -->
                        <div class="mt-3 p-3 bg-light rounded">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-undo text-info me-2"></i>
                                <div>
                                    <small class="fw-semibold">30-Day Return Policy</small>
                                    <div class="text-muted" style="font-size: 0.75rem;">
                                        Free returns on all items
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Update shipping cost when method changes
        document.querySelectorAll('input[name="shipping"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const shippingCost = parseFloat(this.value);
                const shippingElement = document.getElementById('shippingCost');
                const totalElement = document.getElementById('finalTotal');
                
                if (shippingCost === 0) {
                    shippingElement.textContent = 'Free';
                    shippingElement.className = 'text-success';
                } else {
                    shippingElement.textContent = '$' + shippingCost.toFixed(2);
                    shippingElement.className = '';
                }
                
                // Update total
                const subtotal = 429.96;
                const tax = 34.40;
                const newTotal = subtotal + tax + shippingCost;
                totalElement.textContent = '$' + newTotal.toFixed(2);
            });
        });

        // Toggle billing address form
        document.getElementById('sameAsShipping').addEventListener('change', function() {
            // This would show/hide billing address form in a real implementation
            console.log('Billing address same as shipping:', this.checked);
        });

        // Place order function
        function placeOrder() {
            // Validate form
            const form = document.querySelector('form');
            if (form.checkValidity()) {
                // Show loading state
                const button = event.target;
                button.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Processing...';
                button.disabled = true;
                
                // Simulate order processing
                setTimeout(() => {
                    alert('Order placed successfully! Redirecting to confirmation page...');
                    window.location.href = 'orders.html';
                }, 2000);
            } else {
                form.reportValidity();
            }
        }

        // Format card number input
        document.getElementById('cardNumber').addEventListener('input', function() {
            let value = this.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            this.value = formattedValue;
        });

        // Format expiry date input
        document.getElementById('expiryDate').addEventListener('input', function() {
            let value = this.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            this.value = value;
        });
    </script>
</body>
</html>